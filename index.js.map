{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const getImagesByQuery = (query) => {\n    const requestParams = new URLSearchParams({\n        key: '53358715-8970766531ccc29f18899e248',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    return axios\n        .get(`https://pixabay.com/api/?${requestParams}`)\n        .then(response => response.data.hits);\n};\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\n// const simpleLightbox = new SimpleLightbox;\nlet galleryLightbox;\nexport const createGallery = values => {\n\n  const createGalleryCardTemplate = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\" target=\"_self\" rel=\"noopener noreferrer\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n      loading=\"lazy\"\n    />\n  </a>\n  <ul class=\"stats\">\n    <li class=\"stats-item\">\n      <b>Likes</b>\n      <span>${likes}</span>\n    </li>\n    <li class=\"stats-item\">\n      <b>Views</b>\n      <span>${views}</span>\n    </li>\n    <li class=\"stats-item\">\n      <b>Comments</b>\n      <span>${comments}</span>\n    </li>\n    <li class=\"stats-item\">\n      <b>Downloads</b>\n      <span>${downloads}</span>\n    </li>\n  </ul>\n</li>\n`\n  };\n  refs.galleryList.innerHTML = values.map(imgInfo => createGalleryCardTemplate(imgInfo)).join('');\n\n  if (!galleryLightbox) {\n    galleryLightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    galleryLightbox.refresh();\n  }\n}\n\nconst refs = {\n  galleryList: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n}\nexport const clearGallery = () => { refs.galleryList.innerHTML = ''; };\nexport const showLoader = () => { refs.loader.classList.remove('is-hidden'); };\nexport const hideLoader = () => { refs.loader.classList.add('is-hidden'); };\n\n// У файлі render - functions.js створи екземпляр SimpleLightbox для роботи з модальним вікном та зберігай функції для відображення елементів інтерфейсу:\n// createGallery(images).Ця функція повинна приймати масив images, створювати HTML - розмітку для галереї, додавати її в контейнер галереї та викликати метод екземпляра SimpleLightbox refresh().Нічого не повертає.\n//     clearGallery().Ця функція нічого не приймає та повинна очищати вміст контейнера галереї.Нічого не повертає.\n//         showLoader().Ця функція нічого не приймає, повинна додавати клас для відображення лоадера.Нічого не повертає.\n//             hideLoader().Ця функція нічого не приймає, повинна прибирати клас для відображення лоадера.Нічого не повертає.","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\n\n\nconst searchForm = document.querySelector('.form');\n\nconst onSubmitForm = event => {\n    event.preventDefault();\n\n    const { target: form } = event;\n    const query = form.elements['search-text'].value.trim();\n    if (query === '') {\n        iziToast.warning({\n            message: 'Please enter a search query.',\n            position: \"topRight\",\n        })\n        return;\n    }\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n        .finally(() => {\n            hideLoader();\n            searchForm.reset();\n        })\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.info({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: \"topRight\",\n                });\n                return;\n            }\n            createGallery(images);\n        })\n        .catch(err => {\n            iziToast.error({\n                message: err.message || 'Something went wrong',\n            })\n        });\n};\n\nsearchForm.addEventListener('submit', onSubmitForm);"],"names":["getImagesByQuery","query","requestParams","axios","response","galleryLightbox","createGallery","values","createGalleryCardTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","imgInfo","SimpleLightbox","clearGallery","showLoader","hideLoader","searchForm","onSubmitForm","event","form","iziToast","images","err"],"mappings":"owBAEO,MAAMA,EAAoBC,GAAU,CACvC,MAAMC,EAAgB,IAAI,gBAAgB,CACtC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAOE,EACF,IAAI,4BAA4BD,CAAa,EAAE,EAC/C,KAAKE,GAAYA,EAAS,KAAK,IAAI,CAC5C,ECXA,IAAIC,EACG,MAAMC,EAAgBC,GAAU,CAErC,MAAMC,EAA4B,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACvF;AAAA,kCACuBL,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOHC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILC,CAAK;AAAA;AAAA;AAAA;AAAA,cAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,cAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,EAMrBC,EAAK,YAAY,UAAYT,EAAO,IAAIU,GAAWT,EAA0BS,CAAO,CAAC,EAAE,KAAK,EAAE,EAEzFZ,EAMHA,EAAgB,QAAO,EALvBA,EAAkB,IAAIa,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,EAEMF,EAAO,CACX,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EACaG,EAAe,IAAM,CAAEH,EAAK,YAAY,UAAY,IACpDI,EAAa,IAAM,CAAEJ,EAAK,OAAO,UAAU,OAAO,WAAW,GAC7DK,EAAa,IAAM,CAAEL,EAAK,OAAO,UAAU,IAAI,WAAW,GCjDjEM,EAAa,SAAS,cAAc,OAAO,EAE3CC,EAAeC,GAAS,CAC1BA,EAAM,eAAc,EAEpB,KAAM,CAAE,OAAQC,CAAM,EAAGD,EACnBvB,EAAQwB,EAAK,SAAS,aAAa,EAAE,MAAM,OACjD,GAAIxB,IAAU,GAAI,CACdyB,EAAS,QAAQ,CACb,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CACDP,IACAC,IAEApB,EAAiBC,CAAK,EACjB,QAAQ,IAAM,CACXoB,IACAC,EAAW,MAAK,CAC5B,CAAS,EACA,KAAKK,GAAU,CACZ,GAAIA,EAAO,SAAW,EAAG,CACrBD,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDpB,EAAcqB,CAAM,CAChC,CAAS,EACA,MAAMC,GAAO,CACVF,EAAS,MAAM,CACX,QAASE,EAAI,SAAW,sBACxC,CAAa,CACb,CAAS,CACT,EAEAN,EAAW,iBAAiB,SAAUC,CAAY"}